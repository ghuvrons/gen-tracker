(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"713b":function(e,t,a){"use strict";a.r(t);var r,n,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHr LpR lFr"}},[a("q-header",{attrs:{elevated:""}},[e.offline?a("q-bar",{staticClass:"bg-red",attrs:{dense:""}},[a("q-toolbar-title",{staticClass:"text-caption"},[e._v("Offline mode")])],1):e._e(),a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.drawer.left=!e.drawer.left}}}),a("q-toolbar-title",[e._v("\n        "+e._s(e.app.title)+"\n        "),a("q-item-label",{staticClass:"text-white",attrs:{caption:""}},[e._v("\n          "+e._s(e.app.subTitle)+" v."+e._s(e.app.version)+"\n        ")])],1),e.$q.fullscreen.isCapable?a("q-btn",{attrs:{icon:e.$q.fullscreen.isActive?"fullscreen_exit":"fullscreen",flat:"",dense:"",round:""},on:{click:function(t){return e.$q.fullscreen.toggle()}}}):e._e(),a("q-btn",{attrs:{icon:e.$q.dark.isActive?"light_mode":"dark_mode",flat:"",dense:"",round:""},on:{click:function(t){return e.$q.dark.toggle()}}}),a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"more_vert"},on:{click:function(t){e.drawer.right=!e.drawer.right}}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:""},model:{value:e.drawer.left,callback:function(t){e.$set(e.drawer,"left",t)},expression:"drawer.left"}},[a("q-splitter",{staticStyle:{height:"100vh"},attrs:{unit:"px",horizontal:""},scopedSlots:e._u([{key:"before",fn:function(){return[a("device-management",{attrs:{height:e.hDeviceManagement}})]},proxy:!0},{key:"separator",fn:function(){return[a("q-avatar",{attrs:{color:"grey","text-color":"white",size:"20px",icon:"drag_indicator"}})]},proxy:!0},{key:"after",fn:function(){return[a("report-reader",{attrs:{height:e.splitter}})]},proxy:!0}]),model:{value:e.splitter,callback:function(t){e.splitter=t},expression:"splitter"}})],1),a("q-drawer",{attrs:{side:"right","show-if-above":"",bordered:""},model:{value:e.drawer.right,callback:function(t){e.$set(e.drawer,"right",t)},expression:"drawer.right"}},[a("command-management",{style:e.hCommandManagement}),a("response-log",{attrs:{height:e.hResponseLog}})],1),a("q-page-container",[a("router-view")],1)],1)},s=[],o=a("ded3"),i=a.n(o),c=a("5662"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("Report Reader")]),a("q-btn",{attrs:{icon:e.treeState?"list":"account_tree",color:"primary",unelevated:"",push:"",dense:""},on:{click:function(t){e.treeState=!e.treeState}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v(e._s(e.treeState?"List":"Tree"))])],1)],1),e.theReport?[e.treeState?a("tree-report-reader",{attrs:{selected:e.field,report:e.theReport,height:e.hTree},on:{"update:selected":e.open}}):a("list-report-reader",{attrs:{selected:e.field,report:e.theReport,height:e.hList},on:{"update:selected":e.open}})]:a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No active report yet\n  ")]),e.field?a("report-history-modal",{attrs:{field:e.field},on:{close:function(t){e.field=null}}}):e._e()],2)},u=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{maximized:e.$q.screen.lt.md,"full-height":"","full-width":""},on:{hide:function(t){return e.$emit("close")}},model:{value:e.modalOpen,callback:function(t){e.modalOpen=t},expression:"modalOpen"}},[a("q-layout",{attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"bg-primary"},[a("q-toolbar",[a("q-toolbar-title",[e.$q.screen.gt.sm?a("span",{staticClass:"text-weight-bold"},[e._v("HISTORY")]):e._e(),e._v("\n          "+e._s(this.theField.title)+"\n          "),e.chart.data?a("q-chip",{attrs:{dark:"",dense:"",square:""}},[e._v(e._s(e.chart.data.labels.length))]):e._e()],1),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1)],1),a("q-page-container",[a("q-page",{class:e.$q.dark.isActive?"bg-black":"bg-white",attrs:{padding:""}},[a("div",{staticClass:"row"},[a("div",{class:e.eventGroup?"col-xs-12 col-sm-12 col-md-8 col-lg-9":"col-12"},[a("div",{staticClass:"q-pa-sm"},[a("line-chart",{staticStyle:{height:"60vh"},attrs:{param:e.chart,update:e.history.update}}),a("q-range",{attrs:{min:e.range.min,max:e.range.max,disable:e.range.disable,"drag-range":e.control.drag,snap:"",square:""},model:{value:e.range.value,callback:function(t){e.$set(e.range,"value",t)},expression:"range.value"}}),a("div",{staticClass:"row justify-between items-center content-center"},[a("div",{staticClass:"col-auto"},[a("q-toggle",{staticClass:"q-ma-xs",attrs:{label:"Begin Zero"},model:{value:e.control.beginAtZero,callback:function(t){e.$set(e.control,"beginAtZero",t)},expression:"control.beginAtZero"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{disable:e.control.maximize,label:"Lock Window"},model:{value:e.control.drag,callback:function(t){e.$set(e.control,"drag",t)},expression:"control.drag"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{disable:e.control.maximize,label:"Follow Data"},model:{value:e.control.follow,callback:function(t){e.$set(e.control,"follow",t)},expression:"control.follow"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{label:"Max Range"},model:{value:e.control.maximize,callback:function(t){e.$set(e.control,"maximize",t)},expression:"control.maximize"}})],1),a("div",{staticClass:"col-auto"},[a("q-input",{staticClass:"q-ma-xs",staticStyle:{width:"130px"},attrs:{value:e.rangeSample,type:"number",prefix:"Sample :",disable:"","hide-bottom-space":"",filled:"",dense:""}})],1)])],1)]),e.eventGroup?a("div",{staticClass:"col-xs-12 col-sm-12 col-md-4 col-lg-3"},[a("div",{staticClass:"q-pa-sm scroll"},[a("event-group-reader",{attrs:{value:e.currentValue}})],1)]):e._e()])])],1)],1)],1)},m=[],b=a("9944"),v=a("af6a"),f=a("1fca"),g={extends:f["a"],props:{param:{type:Object,required:!0},update:{type:Object,required:!0},dark:{type:Boolean,default:!1}},mounted(){this.render()},methods:{render(){this.renderChart(this.param.data,this.param.options)}},watch:{"update.data":function(e){this.$data._chart.update()},"update.options":function(e){this.render()}}},h=g,x=a("2877"),q=Object(x["a"])(h,r,n,!1,null,null,null),y=q.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-list",{attrs:{bordered:""}},e._l(e.devEvents,(function(t,r){return a("q-expansion-item",{key:r,attrs:{label:r+" ",caption:"("+t.length+") times","header-class":"text-"+(e.activeEvent(r)?"orange":"grey"),"expand-separator":""}},[a("q-virtual-scroll",{staticStyle:{"max-height":"50vh"},attrs:{items:t,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("q-item",{key:r+"-"+n.time},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v(e._s(n.time))])],1)],1)]}}],null,!0)})],1)})),1)},O=[],k=a("fd30"),w=a("8d7e");const{useGetters:C}=Object(w["a"])("db");var Q={props:{value:Number},setup(e){const{devEvents:t}=C(["devEvents"]),a=t=>{let a=k["a"].find((({name:e})=>e===t));return Object(k["c"])(e.value,a.bit)};return{EVENT_LIST:k["a"],devEvents:t,activeEvent:a}}},j=Q,M=a("1c1c"),L=a("3b73"),R=a("a12b"),S=a("66e5"),I=a("4074"),T=a("0170"),$=a("eebe"),A=a.n($),D=Object(x["a"])(j,_,O,!1,null,null,null),E=D.exports;A()(D,"components",{QList:M["a"],QExpansionItem:L["a"],QVirtualScroll:R["a"],QItem:S["a"],QItemSection:I["a"],QItemLabel:T["a"]});var B=a("ff52"),N=(a("26e9"),a("2ef0"));const z=({labels:e},{min:t,max:a})=>{let r=t?e.findIndex((e=>e>=t)):0,n=a?Object(N["findLastIndex"])(e,(e=>e<=a)):e.length-1;return{iMin:r,iMax:n}},F=({labels:e},{iMin:t,iMax:a})=>{let r=e[t],n=e[a];return{xMin:r,xMax:n}},G=({data:e},{beginAtZero:t},{iMin:a,iMax:r})=>{let n=e.filter(((e,t)=>t>=a&&t<=r)),l=Object(N["min"])(n),s=Object(N["max"])(n);return t&&(l>0?l=0:s=0),s==l&&(l>=0?s+=1:l-=1),{yMin:l,yMax:s}},V=({labels:e},t)=>t>=0?e[t]:e[e.length-1],Z=(e,t)=>{let a=[],r=[];return e.forEach((e=>{e[t]&&(a.push(e[t].val),r.push(e.logDatetime.val))})),{datasets:a.reverse(),labels:r.reverse()}};a("ddb0");var P=a("e4fd"),H=a("c1df"),U=a.n(H);const W=a("6612");var J={data:{labels:[],datasets:[{data:[],label:"",backgroundColor:"#f87979",fill:!0,showLine:!0,pointRadius:2}]},options:{animation:{duration:10},responsive:!0,maintainAspectRatio:!1,legend:{display:!1,align:"end",labels:{fontColor:"#666"}},scales:{xAxes:[{ticks:{callback:function(e){return U.a.unix(e).format("HH:mm:ss")},max:1,min:0,fontColor:"#666"},scaleLabel:{display:!0,labelString:"Log Datetime",fontColor:"#666"},gridLines:{display:!0,lineWidth:.3,color:"#666"}}],yAxes:[{ticks:{callback:function(e){return W(e).format("0.00a")},beginAtZero:!0,max:1,min:0,fontColor:"#666"},scaleLabel:{display:!0,labelString:"Value",fontColor:"#666"},gridLines:{display:!0,lineWidth:.3,color:"#666"}}]}}},Y=function(){const e=Object(P["reactive"])({chart:Object(N["cloneDeep"])(J),history:{update:{data:!1,options:!1}}}),t=({xMin:t,xMax:a,yMin:r,yMax:n},{beginAtZero:l})=>{e.chart.options.scales.xAxes[0].ticks.max=a,e.chart.options.scales.xAxes[0].ticks.min=t,e.chart.options.scales.yAxes[0].ticks.max=n,e.chart.options.scales.yAxes[0].ticks.min=r,e.chart.options.scales.yAxes[0].ticks.beginAtZero=l,e.history.update.options=!e.history.update.options},a=({labels:t,datasets:a})=>{e.chart.data.labels.push(...t),e.chart.data.datasets[0].data.push(...a),e.history.update.data=!e.history.update.data},r=({title:t,unit:a})=>{e.chart.data.datasets[0].label=t,e.chart.options.scales.yAxes[0].scaleLabel.labelString=a||"Value",e.history.update.options=!e.history.update.options},n=t=>{e.chart.options.legend.labels.fontColor=t,e.chart.options.scales.xAxes[0].ticks.fontColor=t,e.chart.options.scales.xAxes[0].scaleLabel.fontColor=t,e.chart.options.scales.xAxes[0].gridLines.color=t,e.chart.options.scales.yAxes[0].ticks.fontColor=t,e.chart.options.scales.yAxes[0].scaleLabel.fontColor=t,e.chart.options.scales.yAxes[0].gridLines.color=t,e.history.update.options=!e.history.update.options};return i()(i()({},Object(P["toRefs"])(e)),{},{setScales:t,setData:a,setLabel:r,setColor:n})};const{useGetters:K}=Object(w["a"])("db");var X={emits:["close"],props:{field:{required:!0}},components:{LineChart:y,EventGroupReader:E},setup(e){const{chart:t,history:a,setScales:r,setData:n,setLabel:l,setColor:s}=Y(),o=Object(P["reactive"])({modalOpen:!1,tmp:{max:null,sample:null,follow:!1,drag:!1},range:{disable:!1,sample:10,min:0,max:null,value:{min:0,max:null}},control:{beginAtZero:!1,maximize:!0,follow:!1,drag:!1}}),{devReports:c,devEvents:d}=K(["devReports","devEvents"]),u=Object(P["computed"])((()=>Object(b["f"])(v["a"],e.field))),p=Object(P["computed"])((()=>{let{data:e}=t.value.data.datasets[0];return e[e.length-1]})),m=Object(P["computed"])((()=>"eventsGroup"==e.field&&Object.keys(d.value).length>0)),f=Object(P["computed"])((()=>{let{iMin:e,iMax:a}=z(t.value.data,o.range.value);return a-e+1})),g=e=>{let{iMin:a,iMax:r}=z(t.value.data,o.range.value),{xMax:n}=F(t.value.data,{iMin:a,iMax:r}),l=r-a;(o.control.maximize||o.control.follow)&&(r=t.value.data.labels.length-1,n=V(t.value.data,r),o.control.maximize&&(a=0)),e?e--:(e=r-a,o.control.drag&&(e=l,o.control.follow||(n=V(t.value.data,a+e)))),o.range.value={min:V(t.value.data,r-e),max:n}},h=()=>{let e=z(t.value.data,o.range.value),{xMin:a,xMax:n}=F(t.value.data,e),{yMin:l,yMax:s}=G(t.value.data.datasets[0],o.control,e);r({xMin:a,xMax:n,yMin:l,yMax:s},o.control),o.modalOpen=!0},x=a=>{n(Z(a,e.field)),o.range.min=V(t.value.data,0),o.range.max=V(t.value.data,-1)};return Object(P["onMounted"])((()=>{l(e.field),x(c.value),g()})),Object(P["watch"])((()=>o.range.value),(e=>h()),{deep:!0}),Object(P["watch"])((()=>o.control.beginAtZero),(e=>h())),Object(P["watch"])((()=>B["a"].isActive),(e=>s(e?"#FFF":"#666")),{lazy:!1}),Object(P["watch"])((()=>c.value[0]),(t=>{t&&t[e.field]&&(x([t]),g())})),Object(P["watch"])((()=>o.control.maximize),(e=>{let t=null;e?(o.tmp.max=o.range.value.max,o.tmp.sample=o.rangeSample,o.tmp.drag=o.control.drag,o.tmp.follow=o.control.follow,o.range.disable=!0,o.control.follow=!1,o.control.drag=!1):(o.range.disable=!1,o.control.follow=o.tmp.follow,o.control.drag=o.tmp.drag,o.range.value.max=o.tmp.max,t=o.tmp.sample),g(t)}),{lazy:!1}),i()(i()({chart:t,history:a},Object(P["toRefs"])(o)),{},{theField:u,currentValue:p,eventGroup:m,rangeSample:f})}},ee=X,te=a("24e8"),ae=a("4d5a"),re=a("e359"),ne=a("65c6"),le=a("6ac5"),se=a("b047"),oe=a("9c40"),ie=a("09e3"),ce=a("9989"),de=a("7bbf"),ue=a("9564"),pe=a("27f9"),me=a("7f67"),be=Object(x["a"])(ee,p,m,!1,null,null,null),ve=be.exports;A()(be,"components",{QDialog:te["a"],QLayout:ae["a"],QHeader:re["a"],QToolbar:ne["a"],QToolbarTitle:le["a"],QChip:se["a"],QBtn:oe["a"],QPageContainer:ie["a"],QPage:ce["a"],QRange:de["a"],QToggle:ue["a"],QInput:pe["a"]}),A()(be,"directives",{ClosePopup:me["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-input",{attrs:{placeholder:"Filter...",clearable:"",filled:"",dense:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("div",{staticStyle:{"overflow-y":"scroll"},style:e.height},[a("q-tree",{attrs:{selected:e.selected,nodes:e.nodes,filter:e.filter,color:"primary","node-key":"label","default-expand-all":""},on:{"update:selected":function(t){return e.$emit("update:selected",t)}},scopedSlots:e._u([{key:"default-header",fn:function(t){var r=t.node;return[a("span",{staticClass:"text-weight-bold"},[e._v("\n          "+e._s(e.getFieldNodeTitle(r.label))+"\n        ")]),r.data?a("span",[e._v("\n          : "+e._s(r.data.out)+" "+e._s(r.data.unit)+"\n        ")]):e._e()]}}])})],1)],1)},ge=[],he=(a("13d5"),a("5319"),{emits:["update:selected"],props:{report:{required:!0},selected:{required:!0},height:{required:!0}},setup(e){const t=Object(P["ref"])(""),a=(e,t)=>t.reduce(((e,t)=>{const a=new RegExp(t,"gi");return e.replace(a,"")}),e),r=t=>{let r=e.report[t];if(r){let e=r.group.split(".");return a(r.title,e)}return t.toUpperCase()},n=()=>{let t=Object(N["omit"])(e.report,"hex");return Object.keys(t).reduce(((e,a)=>{let{group:r}=t[a],n={[a]:t[a]},l=Object(N["get"])(e,r);return l&&(n=i()(i()({},l),n)),Object(N["set"])(e,r,n)}),{})},l=e=>Object.keys(e).map((t=>e[t].hasOwnProperty("out")?{label:t,data:e[t]}:{label:t,children:l(e[t])})),s=Object(P["computed"])((()=>e.report?l(n()):[]));return{filter:t,nodes:s,getFieldNodeTitle:r}}}),xe=he,qe=a("7f41"),ye=Object(x["a"])(xe,fe,ge,!1,null,null,null),_e=ye.exports;A()(ye,"components",{QInput:pe["a"],QTree:qe["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-virtual-scroll",{style:e.height,attrs:{items:e.fields,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;return[a("q-item",{key:r,attrs:{active:e.selected==r,"active-class":"bg-primary text-white",clickable:""},on:{click:function(t){return e.$emit("update:selected",r)}}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.report[r].title))]),a("q-item-label",{attrs:{lines:"2",caption:""}},[e._v("\n          "+e._s(e.report[r].out)+"\n          "+e._s(e.report[r].unit)+"\n        ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:e.realtime(r)?"cloud_download":"cloud_off",color:e.realtime(r)?"green":"red"}})],1)],1)]}}])})},ke=[],we={emits:["update:selected"],props:{report:{required:!0},selected:{required:!0},height:{required:!0}},setup(e){const t=Object(P["computed"])((()=>Object.keys(Object(N["omit"])(e.report,"hex")))),a=t=>{let{required:a}=Object(b["f"])(v["a"],t);return"FULL"==Object(b["e"])(e.report.frameID.val)||a};return{fields:t,realtime:a}}},Ce=we,Qe=a("0016"),je=Object(x["a"])(Ce,Oe,ke,!1,null,null,null),Me=je.exports;A()(je,"components",{QVirtualScroll:R["a"],QItem:S["a"],QItemSection:I["a"],QItemLabel:T["a"],QIcon:Qe["a"]});const{useState:Le,useGetters:Re}=Object(w["a"])("db");var Se={props:{height:{required:!0}},components:{ReportHistoryModal:ve,TreeReportReader:_e,ListReportReader:Me},setup(e){const{report:t}=Le(["report"]),{devReports:a}=Re(["devReports"]),r=Object(w["a"])("common"),{tree:n}=r.useState(["tree"]),{[c["e"]]:l}=r.useMutations([c["e"]]),s=Object(P["ref"])(null),o=Object(P["computed"])((()=>`height: calc(100vh - ${e.height}px - 34px)`)),d=Object(P["computed"])((()=>` height: calc(100vh - ${e.height}px - 73px)`)),u=Object(P["computed"])({get:()=>n.value,set:e=>l(e)}),p=Object(P["computed"])((()=>{if(!t.value)return;let e=Object(v["e"])(t.value);if("FULL"!=Object(b["e"])(t.value.frameId)){let r=Object(v["b"])(t.value,a.value);r&&(e=i()(i()({},Object(v["e"])(r)),e))}return e})),m=e=>{if(!e)return;let t=Object(b["f"])(v["a"],e);if(!Object(N["get"])(t,"chartable"))return;let r=a.value.filter((({[e]:t})=>t));r.length<2||(s.value=e)};return{field:s,hList:o,hTree:d,treeState:u,theReport:p,open:m}}},Ie=Se,Te=a("d847"),$e=a("05c0"),Ae=a("54e1"),De=Object(x["a"])(Ie,d,u,!1,null,null,null),Ee=De.exports;A()(De,"components",{QBar:Te["a"],QToolbarTitle:le["a"],QBtn:oe["a"],QTooltip:$e["a"],QBanner:Ae["a"],QIcon:Qe["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Device Management\n      "),e.devices.length>0?a("q-badge",{attrs:{color:"red",align:"top"}},[e._v("\n        "+e._s(e.devices.length)+"\n      ")]):e._e()],1)],1),0==e.devices.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No unit yet\n  ")]):a("q-virtual-scroll",{style:e.height,attrs:{items:e.devices,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,n=t.index;return[a("q-item",{key:n,attrs:{active:e.active(r),"active-class":"bg-primary text-white",clickable:!e.processing,dense:""},on:{click:function(t){return e.setUnitID(r.unitID)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:r.status?"play_circle":"pause_circle",color:r.status?"green":"red"}})],1),a("q-item-section",[a("q-item-label",{staticClass:"text-subtitle2"},[e._v("\n            "+e._s(r.unitID.toString())+"\n          ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{class:{"text-white":e.active(r)},attrs:{caption:""}},[e._v("\n            "+e._s(e.getLastReport(r.unitID))+"\n          ")]),a("q-item-label",{class:{"text-white":e.active(r)},attrs:{caption:""}},[a("b",[e._v(e._s(e.getTotalReports(r.unitID)))]),e._v(" reports\n          ")])],1)],1)]}}])})],1)},Ne=[],ze=a("a7bc");const{useState:Fe,useMutations:Ge,useGetters:Ve}=Object(w["a"])("db");var Ze={props:{height:{required:!0}},setup(e){const{devices:t}=Fe(["devices"]),{[ze["l"]]:a}=Ge([ze["l"]]),{devDevice:r,getTotalReports:n,getLastReport:l}=Ve(["devDevice","getTotalReports","getLastReport"]),s=({unitID:e})=>e===Object(N["get"])(r.value,"unitID");return{devices:t,devDevice:r,getTotalReports:n,getLastReport:l,setUnitID:a,active:s}}},Pe=Ze,He=a("58a81"),Ue=Object(x["a"])(Pe,Be,Ne,!1,null,null,null),We=Ue.exports;A()(Ue,"components",{QBar:Te["a"],QToolbarTitle:le["a"],QBadge:He["a"],QBanner:Ae["a"],QIcon:Qe["a"],QVirtualScroll:R["a"],QItem:S["a"],QItemSection:I["a"],QItemLabel:T["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Response Log\n      "),e.devResponses.length>0?a("q-badge",{attrs:{color:"red",align:"top"}},[e._v(e._s(e.devResponses.length))]):e._e()],1)],1),0==e.devResponses.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No response yet\n  ")]):a("q-virtual-scroll",{style:e.height,attrs:{items:e.devResponses,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,n=t.index;return[a("q-item",{key:n,attrs:{clickable:!e.processing},on:{click:function(t){return e.writeCommand(r)}}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(r.payload))]),e._v("\n          "+e._s(e.parseMessage(r.message))+"\n          ")],1),a("q-item-section",{attrs:{side:""}},[a("q-chip",{attrs:{color:e.parseResCode(r.resCode).color,dark:"",dense:"",square:""}},[e._v(e._s(e.parseResCode(r.resCode).title))])],1)],1)]}}])})],1)},Ye=[],Ke=a("8b56"),Xe=a("6ad4");const{useGetters:et,useActions:tt}=Object(w["a"])("db");var at={props:{height:{required:!0}},setup(e){const{devResponses:t}=et(["devResponses"]),{[Xe["a"]]:a}=tt([Xe["a"]]),r=({payload:e})=>a({payload:e,exec:!1});return{devResponses:t,writeCommand:r,parseResCode:Ke["c"],parseMessage:Ke["b"]}}},rt=at,nt=Object(x["a"])(rt,Je,Ye,!1,null,null,null),lt=nt.exports;A()(nt,"components",{QBar:Te["a"],QToolbarTitle:le["a"],QBadge:He["a"],QBanner:Ae["a"],QIcon:Qe["a"],QVirtualScroll:R["a"],QItem:S["a"],QItemSection:I["a"],QItemLabel:T["a"],QChip:se["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Command Management\n    ")]),e.COMMAND_LIST.length>0?a("q-btn",{attrs:{color:"primary",icon:"info",dense:"",push:"",unelevated:""},nativeOn:{click:function(t){e.modalOpen=!0}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("List")])],1):e._e()],1),a("div",{staticClass:"q-pa-sm"},[a("q-input",{attrs:{label:"Input Command:",hint:"Press ENTER to send.",type:"text","stack-label":"",disable:e.processing||!e.devDevice,readonly:e.processing,loading:e.processing},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.execCommand()}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"send"},on:{click:function(t){return e.execCommand()}}})]},proxy:!0}]),model:{value:e.payload,callback:function(t){e.payload=t},expression:"payload"}})],1),a("command-list-modal",{on:{select:e.writeCommand},model:{value:e.modalOpen,callback:function(t){e.modalOpen=t},expression:"modalOpen"}})],1)},ot=[],it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{maximized:e.$q.screen.lt.md,"full-width":"","full-height":""},model:{value:e.modalOpen,callback:function(t){e.modalOpen=t},expression:"modalOpen"}},[a("q-layout",{attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"bg-primary"},[a("q-toolbar",[e.$q.screen.gt.xs?[a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[e._v("COMMAND LIST")]),e.COMMAND_LIST.length>0?a("q-chip",{attrs:{dark:"",dense:"",square:""}},[e._v(e._s(e.COMMAND_LIST.length))]):e._e()],1),a("q-space")]:e._e(),a("q-input",{class:{"full-width":e.$q.screen.lt.sm},attrs:{placeholder:"Filter...",dark:"",clearable:"",square:"",outlined:"",dense:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-sm",attrs:{flat:"",round:"",dense:"",icon:"close"}})],2)],1),a("q-page-container",[a("q-page",{class:e.$q.dark.isActive?"bg-black":"bg-white",attrs:{padding:""}},[0==e.searchResults.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n          No matching commands\n        ")]):a("q-virtual-scroll",{attrs:{items:e.searchResults,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item,n=t.index;return[a("q-item",{key:n,attrs:{clickable:!e.processing},on:{click:function(t){return e.selectCommand(r)}}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(r.command))]),a("q-item-label",{attrs:{lines:"2",caption:""}},[e._v(e._s(r.desc))])],1),r.type?a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{lines:"1"}},[a("q-chip",{attrs:{dark:"",dense:"",square:"",color:"grey"}},[e._v(e._s(r.type))])],1),r.range?a("q-item-label",{attrs:{lines:"2"}},[a("q-chip",{attrs:{dark:"",dense:"",square:"",color:"primary"}},[e._v(e._s(e.getRange(r.range)))])],1):e._e()],1):e._e()],1)]}}])})],1)],1)],1)],1)},ct=[],dt=a("a55c"),ut={emits:["input","select"],props:{value:{required:!0,type:Boolean}},setup(e,{emit:t}){const a=Object(P["ref"])(""),r=Object(P["computed"])({get:()=>e.value,set:e=>t("input",e)}),n=Object(P["computed"])((()=>Object(b["d"])(dt["a"],a.value||""))),l=([e,t])=>t?`[ ${e}, ${t} ]`:`[ ${e} ]`,s=({command:e})=>{r.value=!1,t("select",e)};return{COMMAND_LIST:dt["a"],keyword:a,modalOpen:r,searchResults:n,getRange:l,selectCommand:s}}},pt=ut,mt=a("2c91"),bt=Object(x["a"])(pt,it,ct,!1,null,null,null),vt=bt.exports;A()(bt,"components",{QDialog:te["a"],QLayout:ae["a"],QHeader:re["a"],QToolbar:ne["a"],QToolbarTitle:le["a"],QChip:se["a"],QSpace:mt["a"],QInput:pe["a"],QBtn:oe["a"],QPageContainer:ie["a"],QPage:ce["a"],QBanner:Ae["a"],QIcon:Qe["a"],QVirtualScroll:R["a"],QItem:S["a"],QItemSection:I["a"],QItemLabel:T["a"]}),A()(bt,"directives",{ClosePopup:me["a"]});const{useState:ft,useGetters:gt,useActions:ht}=Object(w["a"])("db");var xt={components:{CommandListModal:vt},setup(){const{command:e}=ft(["command"]),{devDevice:t}=gt(["devDevice"]),{[Xe["a"]]:a}=ht([Xe["a"]]),r=Object(P["ref"])(!1),n=Object(P["computed"])({get:()=>e.value.payload,set:e=>{a({payload:e.toUpperCase(),exec:!1})}}),l=e=>n.value=e,s=()=>a({payload:n.value});return{COMMAND_LIST:dt["a"],modalOpen:r,payload:n,devDevice:t,writeCommand:l,execCommand:s}}},qt=xt,yt=Object(x["a"])(qt,st,ot,!1,null,null,null),_t=yt.exports;A()(yt,"components",{QBar:Te["a"],QToolbarTitle:le["a"],QBtn:oe["a"],QTooltip:$e["a"],QInput:pe["a"],QIcon:Qe["a"]});var Ot=a("9482"),kt=function(){const e=Object(P["ref"])(!1),t=()=>e.value=!1,a=()=>e.value=!0;return Object(P["onMounted"])((()=>{e.value=!navigator.onLine,window.addEventListener("online",t),window.addEventListener("offline",a)})),Object(P["onBeforeUnmount"])((()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)})),{offline:e}},wt=a("0967");const{useState:Ct,useMutations:Qt}=Object(w["a"])("common");var jt={components:{ReportReader:Ee,DeviceManagement:We,ResponseLog:lt,CommandManagement:_t},setup(e){const{darker:t}=Ct(["darker"]),{[c["a"]]:a}=Qt([c["a"]]),r=Object(P["reactive"])({drawer:{left:wt["b"].is.desktop,right:!1},app:Ot["a"].app,splitter:150}),{offline:n}=kt(),l=Object(P["computed"])((()=>"height: 120px")),s=Object(P["computed"])((()=>`height: calc(100vh - ${l.value} - 33px)`)),o=Object(P["computed"])((()=>`height: calc(${r.splitter}px - 32px)`));return Object(P["watch"])((()=>B["a"].isActive),(e=>a(e))),Object(P["onMounted"])((()=>B["a"].set(t.value))),i()(i()({},Object(P["toRefs"])(r)),{},{offline:n,hCommandManagement:l,hResponseLog:s,hDeviceManagement:o})}},Mt=jt,Lt=a("9404"),Rt=a("8562"),St=a("cb32"),It=Object(x["a"])(Mt,l,s,!1,null,null,null);t["default"]=It.exports;A()(It,"components",{QLayout:ae["a"],QHeader:re["a"],QBar:Te["a"],QToolbarTitle:le["a"],QToolbar:ne["a"],QBtn:oe["a"],QItemLabel:T["a"],QDrawer:Lt["a"],QSplitter:Rt["a"],QAvatar:St["a"],QPageContainer:ie["a"]})}}]);