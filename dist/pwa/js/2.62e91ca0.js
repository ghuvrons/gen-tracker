(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="4678"},"713b":function(e,t,a){"use strict";a.r(t);var s,n,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{attrs:{view:"lHr LpR lFr"}},[a("q-header",{attrs:{elevated:""}},[e.offline?a("q-bar",{staticClass:"bg-red",attrs:{dense:""}},[a("q-toolbar-title",{staticClass:"text-caption"},[e._v("Offline mode")])],1):e._e(),a("q-toolbar",{staticClass:"bg-primary text-white"},[a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(t){e.drawer.left=!e.drawer.left}}}),a("q-toolbar-title",[e._v("\n        "+e._s(e.app.title)+"\n        "),a("q-item-label",{staticClass:"text-white",attrs:{caption:""}},[e._v("\n          "+e._s(e.app.subTitle)+" v."+e._s(e.app.version)+"\n        ")])],1),a("q-btn",{attrs:{icon:"refresh",flat:"",dense:"",round:""},on:{click:function(t){return e.reload()}}}),a("q-btn",{attrs:{icon:e.$q.dark.isActive?"light_mode":"dark_mode",flat:"",dense:"",round:""},on:{click:function(t){return e.$q.dark.toggle()}}}),a("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"more_vert"},on:{click:function(t){e.drawer.right=!e.drawer.right}}})],1)],1),a("q-drawer",{attrs:{"show-if-above":"",bordered:""},model:{value:e.drawer.left,callback:function(t){e.$set(e.drawer,"left",t)},expression:"drawer.left"}},[a("q-splitter",{staticStyle:{height:"100vh"},attrs:{unit:"px",horizontal:""},scopedSlots:e._u([{key:"before",fn:function(){return[a("device-management",{attrs:{height:e.hDeviceManagement}})]},proxy:!0},{key:"separator",fn:function(){return[a("q-avatar",{attrs:{color:"grey","text-color":"white",size:"20px",icon:"drag_indicator"}})]},proxy:!0},{key:"after",fn:function(){return[a("report-reader",{attrs:{height:e.splitter}})]},proxy:!0}]),model:{value:e.splitter,callback:function(t){e.splitter=t},expression:"splitter"}})],1),a("q-drawer",{attrs:{side:"right","show-if-above":"",bordered:""},model:{value:e.drawer.right,callback:function(t){e.$set(e.drawer,"right",t)},expression:"drawer.right"}},[a("command-management",{style:e.hCommandManagement,model:{value:e.payload,callback:function(t){e.payload=t},expression:"payload"}}),a("response-log",{attrs:{height:e.hResponseLog},on:{select:function(t){e.payload=t}}})],1),a("q-page-container",[a("router-view")],1)],1)},l=[],o=a("ded3"),i=a.n(o),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("Report Reader")]),a("q-btn",{attrs:{icon:e.treeState?"list":"account_tree",color:"primary",unelevated:"",push:"",dense:""},on:{click:function(t){e.treeState=!e.treeState}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v(e._s(e.treeState?"List":"Tree"))])],1)],1),e.theReport?[e.treeState?a("tree-report-reader",{attrs:{selected:e.field,report:e.theReport,height:e.hTree},on:{"update:selected":e.open}}):a("list-report-reader",{attrs:{selected:e.field,report:e.theReport,height:e.hList},on:{"update:selected":e.open}})]:a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No active report yet\n  ")]),e.field?a("report-history-modal",{attrs:{field:e.field},on:{close:function(t){e.field=null}}}):e._e()],2)},d=[],u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{value:!0,maximized:e.$q.screen.lt.md,persistent:"","full-height":"","full-width":""}},[a("q-layout",{attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"bg-primary"},[a("q-toolbar",[a("q-toolbar-title",[e.$q.screen.gt.sm?a("span",{staticClass:"text-weight-bold"},[e._v("HISTORY")]):e._e(),e._v("\n          "+e._s(this.theField.title)+"\n          "),a("q-chip",{attrs:{dark:"",dense:"",square:""}},[e._v("\n            "+e._s(e.range.bar.max+1)+"\n          ")])],1),a("q-btn",{attrs:{round:"",dense:"",push:"",icon:"close"},on:{click:function(t){return e.$emit("close")}}})],1)],1),a("q-page-container",[a("q-page",{class:e.$q.dark.isActive?"bg-black":"bg-white",attrs:{padding:""}},[a("div",{staticClass:"row"},[a("div",{class:e.eventGroup?"col-xs-12 col-sm-12 col-md-8 col-lg-9":"col-12"},[a("div",{staticClass:"q-pa-sm"},[a("line-chart",{staticStyle:{height:"60vh"},attrs:{param:e.chart,update:e.history.update}}),a("q-range",{attrs:{min:e.range.bar.min,max:e.range.bar.max,disable:e.range.disable,"drag-only-range":e.control.lock,"left-label-value":e.range.val.min+1,"right-label-value":e.range.val.max+1,"label-always":"",square:""},model:{value:e.range.val,callback:function(t){e.$set(e.range,"val",t)},expression:"range.val"}}),a("div",{staticClass:"row justify-between items-center content-center"},[a("div",{staticClass:"col-auto"},[a("q-toggle",{staticClass:"q-ma-xs",attrs:{label:"Begin Zero"},model:{value:e.control.beginAtZero,callback:function(t){e.$set(e.control,"beginAtZero",t)},expression:"control.beginAtZero"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{disable:e.control.maximize,label:"Lock Window"},model:{value:e.control.lock,callback:function(t){e.$set(e.control,"lock",t)},expression:"control.lock"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{disable:e.control.maximize,label:"Follow Data"},model:{value:e.control.follow,callback:function(t){e.$set(e.control,"follow",t)},expression:"control.follow"}}),a("q-toggle",{staticClass:"q-ma-xs",attrs:{label:"Max Range"},model:{value:e.control.maximize,callback:function(t){e.$set(e.control,"maximize",t)},expression:"control.maximize"}})],1),a("div",{staticClass:"col-auto"},[a("q-input",{staticClass:"q-ma-xs",staticStyle:{width:"130px"},attrs:{value:e.range.val.max+1-e.range.val.min,type:"number",prefix:"Sample :",disable:"","hide-bottom-space":"",filled:"",dense:""}})],1)])],1)]),e.eventGroup?a("div",{staticClass:"col-xs-12 col-sm-12 col-md-4 col-lg-3"},[a("div",{staticClass:"q-pa-sm scroll"},[a("event-group-reader",{attrs:{value:e.latestValue}})],1)]):e._e()])])],1)],1)],1)},m=[],p=a("1fca"),b={extends:p["a"],props:{param:{type:Object,required:!0},update:{type:Object,required:!0},dark:{type:Boolean,default:!1}},mounted(){this.render()},methods:{render(){this.renderChart(this.param.data,this.param.options)}},watch:{"update.data":function(e){this.$data._chart.update()},"update.options":function(e){this.render()}}},f=b,v=a("2877"),h=Object(v["a"])(f,s,n,!1,null,null,null),g=h.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-list",{attrs:{bordered:""}},e._l(e.devEvents,(function(t,s){return a("q-expansion-item",{key:s,attrs:{label:s+" ",caption:"("+t.length+") times","header-class":"text-"+(e.activeEvent(s)?"orange":"grey"),"expand-separator":""}},[a("q-virtual-scroll",{staticStyle:{"max-height":"50vh"},attrs:{items:t,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;return[a("q-item",{key:s+"-"+n.time},[a("q-item-section",[a("q-item-label",{attrs:{caption:""}},[e._v(e._s(n.time))])],1)],1)]}}],null,!0)})],1)})),1)},x=[],y=a("fd30"),q=a("8d7e");const{useGetters:k}=Object(q["a"])("db");var _={props:{value:Number},setup(e){const{devEvents:t}=k(["devEvents"]),a=t=>{let a=y["a"].find((({name:e})=>e===t));return Object(y["c"])(e.value,a.bit)};return{EVENT_LIST:y["a"],devEvents:t,activeEvent:a}}},w=_,C=a("1c1c"),O=a("3b73"),Q=a("a12b"),L=a("66e5"),S=a("4074"),M=a("0170"),D=a("eebe"),R=a.n(D),I=Object(v["a"])(w,j,x,!1,null,null,null),T=I.exports;R()(I,"components",{QList:C["a"],QExpansionItem:O["a"],QVirtualScroll:Q["a"],QItem:L["a"],QItemSection:S["a"],QItemLabel:M["a"]});var z=a("9944"),A=a("af6a"),$=a("ff52"),E=(a("fb6a"),a("cfbf"));const B=a("6612");var N={data:{labels:[],datasets:[{data:[],label:"",backgroundColor:"#f87979",fill:!0,showLine:!0,pointRadius:2}]},options:{animation:{duration:10},responsive:!0,maintainAspectRatio:!1,legend:{display:!1,align:"end",labels:{fontColor:"#666"}},scales:{xAxes:[{ticks:{callback:function(e){return E["a"].unix(e).format("HH:mm:ss")},max:1,min:0,fontColor:"#666"},scaleLabel:{display:!0,labelString:"Log Datetime",fontColor:"#666"},gridLines:{display:!0,lineWidth:.3,color:"#666"}}],yAxes:[{ticks:{callback:function(e){return B(e).format("0.00a")},beginAtZero:!0,max:1,min:0,fontColor:"#666"},scaleLabel:{display:!0,labelString:"Value",fontColor:"#666"},gridLines:{display:!0,lineWidth:.3,color:"#666"}}]}}},F=a("2ef0");const Z=({labels:e},{min:t,max:a})=>{let s=e[t],n=e[a];return{xMin:s,xMax:n}},V=({data:e},{beginAtZero:t},{min:a,max:s})=>{let n=e.filter(((e,t)=>t>=a&&t<=s)),r=Object(F["min"])(n),l=Object(F["max"])(n);return t&&(r>0?r=0:l=0),l==r&&(r>=0?l+=1:r-=1),{yMin:r,yMax:l}},G=(e,t)=>{let a=[],s=[];return e.filter((e=>e[t])).forEach((e=>{a.unshift(e[t].val),s.unshift(e.logDatetime.val)})),{datasets:a,labels:s}};var H=a("e4fd"),P=function(){const e=Object(H["reactive"])({chart:Object(F["cloneDeep"])(N),history:{update:{data:!1,options:!1}}}),t=Object(H["computed"])((()=>e.chart.data.datasets[0].data.slice(-1)[0])),a=({xMin:t,xMax:a,yMin:s,yMax:n},{beginAtZero:r})=>{e.chart.options.scales.xAxes[0].ticks.min=t,e.chart.options.scales.xAxes[0].ticks.max=a,e.chart.options.scales.yAxes[0].ticks.min=s,e.chart.options.scales.yAxes[0].ticks.max=n,e.chart.options.scales.yAxes[0].ticks.beginAtZero=r,e.history.update.options=!e.history.update.options},s=({labels:t,datasets:a})=>{e.chart.data.labels=t,e.chart.data.datasets[0].data=a,e.history.update.data=!e.history.update.data},n=({title:t,unit:a})=>{e.chart.data.datasets[0].label=t,e.chart.options.scales.yAxes[0].scaleLabel.labelString=a||"Value",e.history.update.options=!e.history.update.options},r=t=>{e.chart.options.legend.labels.fontColor=t,e.chart.options.scales.xAxes[0].ticks.fontColor=t,e.chart.options.scales.xAxes[0].scaleLabel.fontColor=t,e.chart.options.scales.xAxes[0].gridLines.color=t,e.chart.options.scales.yAxes[0].ticks.fontColor=t,e.chart.options.scales.yAxes[0].scaleLabel.fontColor=t,e.chart.options.scales.yAxes[0].gridLines.color=t,e.history.update.options=!e.history.update.options},l=({beginAtZero:t},{min:s,max:n})=>{let{xMin:r,xMax:l}=Z(e.chart.data,{min:s,max:n}),{yMin:o,yMax:i}=V(e.chart.data.datasets[0],{beginAtZero:t},{min:s,max:n});a({xMin:r,xMax:l,yMin:o,yMax:i},{beginAtZero:t})},o=(e,t)=>{const{datasets:a,labels:n}=G(e,t);return s({datasets:a,labels:n}),{min:0,max:n.length-1}};return i()(i()({},Object(H["toRefs"])(e)),{},{latestValue:t,setLabel:n,setColor:r,scaleChart:l,writeChart:o})};const{useGetters:U}=Object(q["a"])("db");var W={emits:["close"],props:{field:{required:!0}},components:{LineChart:g,EventGroupReader:T},setup(e){const{chart:t,history:a,latestValue:s,setLabel:n,setColor:r,scaleChart:l,writeChart:o}=P(),c=Object(H["reactive"])({tmp:{max:null,min:null,follow:!1,lock:!1},range:{disable:!1,sample:10,bar:{min:0,max:null},val:{min:0,max:null}},control:{beginAtZero:!1,maximize:!0,follow:!1,lock:!1}}),{devReports:d,devEvents:u}=U(["devReports","devEvents"]),m=Object(H["computed"])((()=>Object(z["f"])(A["a"],e.field))),p=Object(H["computed"])((()=>"eventsGroup"==e.field&&Object.keys(u.value).length>0)),b=()=>{const e=c.range.bar.max;let{min:t,max:a}=c.range.val,s=a-t;c.control.maximize?(a=e,s=e+1):(a||(a=e,s=c.range.sample),c.control.follow?(a=e,c.control.lock||(s=a-t)):c.control.lock||(a==e?s++:a++)),a=a>e?e:a,t=a-s,c.range.val={min:t>0?t:0,max:a}},f=()=>{c.range.bar=o(d.value,e.field),b()},v=()=>l(c.control,c.range.val);return Object(H["onMounted"])((()=>{n(e.field),f()})),Object(H["watch"])((()=>d.value.length),(e=>{e&&f()}),{deep:!0}),Object(H["watch"])((()=>c.range.val),(e=>v()),{deep:!0}),Object(H["watch"])((()=>c.control.beginAtZero),(e=>v())),Object(H["watch"])((()=>c.control.maximize),(e=>{e?(c.tmp.max=c.range.val.max,c.tmp.min=c.range.val.min,c.tmp.lock=c.control.lock,c.tmp.follow=c.control.follow,c.range.disable=!0,c.control.follow=!1,c.control.lock=!1):(c.range.disable=!1,c.control.follow=c.tmp.follow,c.control.lock=c.tmp.lock,c.range.val.max=c.tmp.max,c.range.val.min=c.tmp.min),b()}),{lazy:!1,immediate:!0}),Object(H["watch"])((()=>$["a"].isActive),(e=>r(e?"#FFF":"#666")),{lazy:!1,immediate:!0}),i()(i()({chart:t,history:a},Object(H["toRefs"])(c)),{},{theField:m,latestValue:s,eventGroup:p})}},Y=W,J=a("24e8"),K=a("4d5a"),X=a("e359"),ee=a("65c6"),te=a("6ac5"),ae=a("b047"),se=a("9c40"),ne=a("09e3"),re=a("9989"),le=a("7bbf"),oe=a("9564"),ie=a("27f9"),ce=Object(v["a"])(Y,u,m,!1,null,null,null),de=ce.exports;R()(ce,"components",{QDialog:J["a"],QLayout:K["a"],QHeader:X["a"],QToolbar:ee["a"],QToolbarTitle:te["a"],QChip:ae["a"],QBtn:se["a"],QPageContainer:ne["a"],QPage:re["a"],QRange:le["a"],QToggle:oe["a"],QInput:ie["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-input",{attrs:{placeholder:"Filter...",clearable:"",filled:"",dense:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),a("div",{staticStyle:{"overflow-y":"scroll"},style:e.height},[a("q-tree",{attrs:{selected:e.selected,nodes:e.nodes,filter:e.filter,color:"primary","node-key":"label","default-expand-all":""},on:{"update:selected":function(t){return e.$emit("update:selected",t)}},scopedSlots:e._u([{key:"default-header",fn:function(t){var s=t.node;return[a("span",{staticClass:"text-weight-bold"},[e._v("\n          "+e._s(e.getFieldNodeTitle(s.label))+"\n        ")]),s.data?a("span",[e._v("\n          : "+e._s(s.data.out)+" "+e._s(s.data.unit)+"\n        ")]):e._e()]}}])})],1)],1)},me=[],pe=(a("13d5"),a("5319"),{emits:["update:selected"],props:{report:{required:!0},selected:{required:!0},height:{required:!0}},setup(e){const t=Object(H["ref"])(""),a=(e,t)=>t.reduce(((e,t)=>{const a=new RegExp(t,"gi");return e.replace(a,"")}),e),s=t=>{let s=e.report[t];if(s){let e=s.group.split(".");return a(s.title,e)}return t.toUpperCase()},n=()=>{let t=Object(F["omit"])(e.report,"hex");return Object.keys(t).reduce(((e,a)=>{let{group:s}=t[a],n={[a]:t[a]},r=Object(F["get"])(e,s);return r&&(n=i()(i()({},r),n)),Object(F["set"])(e,s,n)}),{})},r=e=>Object.keys(e).map((t=>e[t].hasOwnProperty("out")?{label:t,data:e[t]}:{label:t,children:r(e[t])})),l=Object(H["computed"])((()=>e.report?r(n()):[]));return{filter:t,nodes:l,getFieldNodeTitle:s}}}),be=pe,fe=a("7f41"),ve=Object(v["a"])(be,ue,me,!1,null,null,null),he=ve.exports;R()(ve,"components",{QInput:ie["a"],QTree:fe["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-virtual-scroll",{style:e.height,attrs:{items:e.fields,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[a("q-item",{key:s,attrs:{active:e.selected==s,"active-class":"bg-primary text-white",clickable:""},on:{click:function(t){return e.$emit("update:selected",s)}}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(e.report[s].title))]),a("q-item-label",{attrs:{lines:"2",caption:""}},[e._v("\n          "+e._s(e.report[s].out)+"\n          "+e._s(e.report[s].unit)+"\n        ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:e.realtime(s)?"cloud_download":"cloud_off",color:e.realtime(s)?"green":"red"}})],1)],1)]}}])})},je=[],xe={emits:["update:selected"],props:{report:{required:!0},selected:{required:!0},height:{required:!0}},setup(e){const t=Object(H["computed"])((()=>Object.keys(Object(F["omit"])(e.report,"hex")))),a=t=>{let{required:a}=Object(z["f"])(A["a"],t);return"FULL"==Object(z["e"])(e.report.frameID.val)||a};return{fields:t,realtime:a}}},ye=xe,qe=a("0016"),ke=Object(v["a"])(ye,ge,je,!1,null,null,null),_e=ke.exports;R()(ke,"components",{QVirtualScroll:Q["a"],QItem:L["a"],QItemSection:S["a"],QItemLabel:M["a"],QIcon:qe["a"]});var we=a("5662");const{useState:Ce,useGetters:Oe}=Object(q["a"])("db");var Qe={props:{height:{required:!0}},components:{ReportHistoryModal:de,TreeReportReader:he,ListReportReader:_e},setup(e){const{report:t}=Ce(["report"]),{devDevice:a,devReports:s}=Oe(["devDevice","devReports"]),n=Object(q["a"])("common"),{tree:r}=n.useState(["tree"]),{[we["d"]]:l}=n.useMutations([we["d"]]),o=Object(H["ref"])(null),c=Object(H["computed"])({get:()=>r.value,set:e=>l(e)}),d=e=>{if(!e)return;let t=Object(z["f"])(A["a"],e);if(!t.hasOwnProperty("chartable"))return;let a=s.value.filter((({[e]:t})=>t));a.length<2||(o.value=e)},u=Object(H["computed"])((()=>{if(!t.value)return null;if(0==s.value.length)return null;let e=Object(A["e"])(t.value);if("FULL"!=Object(z["e"])(e.frameID.val)){const{lastFullReport:t}=a.value;t&&(e=i()(i()({},Object(A["e"])(t)),e))}return e})),m=Object(H["reactive"])({hList:0,hTree:0});return Object(H["watch"])((()=>e.height),(e=>{m.hList=`height: calc(100vh - ${e}px - 34px)`,m.hTree=` height: calc(100vh - ${e}px - 73px)`}),{lazy:!1,immediate:!0}),i()(i()({},Object(H["toRefs"])(m)),{},{field:o,treeState:c,theReport:u,open:d})}},Le=Qe,Se=a("d847"),Me=a("05c0"),De=a("54e1"),Re=Object(v["a"])(Le,c,d,!1,null,null,null),Ie=Re.exports;R()(Re,"components",{QBar:Se["a"],QToolbarTitle:te["a"],QBtn:se["a"],QTooltip:Me["a"],QBanner:De["a"],QIcon:qe["a"]});var Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Device Management\n      "),e.listDevice.length>0?a("q-badge",{attrs:{color:"red",align:"top"}},[e._v("\n        "+e._s(e.listDevice.length)+"\n      ")]):e._e()],1)],1),0==e.listDevice.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No unit yet\n  ")]):a("q-virtual-scroll",{style:e.height,attrs:{items:e.listDevice,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[a("q-item",{key:s.unitID,attrs:{active:e.active(s),"active-class":"bg-primary text-white",clickable:"",dense:""},on:{click:function(t){return e.setUnitID(s.unitID)}}},[a("q-item-section",[a("q-item-label",{staticClass:"text-subtitle2"},[e._v("\n            "+e._s(s.unitID.toString())+"\n          ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",{class:{"text-white":e.active(s)},attrs:{caption:""}},[e._v("\n            "+e._s(e.lastSendDatetime(s.sendDatetime))+"\n          ")]),a("q-item-label",{class:{"text-white":e.active(s)},attrs:{caption:""}},[s.status?a("u",[a("b",[e._v("ONLINE")])]):a("i",[e._v("OFFLINE")])])],1)],1)]}}])})],1)},ze=[],Ae=a("a7bc");const{useState:$e,useMutations:Ee,useGetters:Be}=Object(q["a"])("db");var Ne={props:{height:{required:!0}},setup(e){const{devices:t}=$e(["devices"]),{[Ae["l"]]:a}=Ee([Ae["l"]]),{devDevice:s}=Be(["devDevice"]),n=Object(H["computed"])((()=>Object(F["orderBy"])(t.value,"sendDatetime","desc"))),r=({unitID:e})=>e===Object(F["get"])(s.value,"unitID");return{listDevice:n,lastSendDatetime:A["b"],setUnitID:a,active:r}}},Fe=Ne,Ze=a("58a81"),Ve=Object(v["a"])(Fe,Te,ze,!1,null,null,null),Ge=Ve.exports;R()(Ve,"components",{QBar:Se["a"],QToolbarTitle:te["a"],QBadge:Ze["a"],QBanner:De["a"],QIcon:qe["a"],QVirtualScroll:Q["a"],QItem:L["a"],QItemSection:S["a"],QItemLabel:M["a"]});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Response Log\n      "),e.devCommands.length>0?a("q-badge",{attrs:{color:"red",align:"top"}},[e._v("\n        "+e._s(e.devCommands.length)+"\n      ")]):e._e()],1)],1),0==e.devCommands.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n    No response yet\n  ")]):a("q-virtual-scroll",{style:e.height,attrs:{items:e.devCommands,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item,n=t.index;return[a("q-item",{key:n,attrs:{clickable:""},on:{click:function(t){return e.writeCommand(s.payload)}}},[a("q-item-section",[a("q-item-label",{staticClass:"text-italic",attrs:{lines:"1",caption:""}},[e._v("\n            "+e._s(e.parseDatetime(s.sendDatetime))+"\n          ")]),a("q-item-label",{attrs:{lines:"2"}},[e._v(e._s(s.payload))]),a("div",{staticClass:"text-caption"},[e._v("\n            "+e._s(e.awaitCommand(s)?"Waitting...":e.parseMessage(s.message))+"\n          ")])],1),a("q-item-section",{attrs:{side:""}},[e.awaitCommand(s)?a("q-icon",{attrs:{color:"yellow",name:"cached"},on:{click:function(t){return e.ignoreResponse()}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("\n              Cancel\n            ")])],1):a("q-icon",{attrs:{color:e.parseResCode(s.resCode).color,name:e.parseResCode(s.resCode).icon}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("\n              "+e._s(e.parseResCode(s.resCode).name)+"\n            ")])],1)],1)],1)]}}])})],1)},Pe=[],Ue=a("8b56"),We=a("a55c");const{useGetters:Ye}=Object(q["a"])("db");var Je={emits:["select"],props:{height:{required:!0}},setup(e,{emit:t}){const a=Object(H["inject"])("ignoreResponse"),{devCommands:s}=Ye(["devCommands"]),n=e=>t("select",e),r=e=>E["a"].unix(e).format("DD-MM-YY HH:mm:ss");return{devCommands:s,awaitCommand:We["b"],ignoreResponse:a,writeCommand:n,parseDatetime:r,parseResCode:Ue["e"],parseMessage:Ue["d"]}}},Ke=Je,Xe=Object(v["a"])(Ke,He,Pe,!1,null,null,null),et=Xe.exports;R()(Xe,"components",{QBar:Se["a"],QToolbarTitle:te["a"],QBadge:Ze["a"],QBanner:De["a"],QIcon:qe["a"],QVirtualScroll:Q["a"],QItem:L["a"],QItemSection:S["a"],QItemLabel:M["a"],QTooltip:Me["a"],QChip:ae["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-bar",{staticClass:"bg-blue text-white"},[a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n      Command Management\n    ")]),e.COMMAND_LIST.length>0?a("q-btn",{attrs:{color:"primary",icon:"info",dense:"",push:"",unelevated:""},nativeOn:{click:function(t){e.modalOpen=!0}}},[a("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("List")])],1):e._e()],1),a("div",{staticClass:"q-pa-sm"},[a("q-input",{staticClass:"text-uppercase",attrs:{label:"Input Command:",hint:"Press ENTER to send.",type:"text","stack-label":"",disable:!e.devDevice},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendCommand(e.payload)}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"send"},on:{click:function(t){return e.sendCommand(e.payload)}}})]},proxy:!0}]),model:{value:e.payload,callback:function(t){e.payload=t},expression:"payload"}})],1),e.modalOpen?a("command-list-modal",{on:{close:function(t){e.modalOpen=!1},select:e.writeCommand}}):e._e()],1)},at=[],st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{value:!0,maximized:e.$q.screen.lt.md,persistent:"","full-width":"","full-height":""}},[a("q-layout",{attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"bg-primary"},[a("q-toolbar",[e.$q.screen.gt.xs?[a("q-toolbar-title",[a("span",{staticClass:"text-weight-bold"},[e._v("COMMAND LIST")]),e.COMMAND_LIST.length>0?a("q-chip",{attrs:{dark:"",dense:"",square:""}},[e._v("\n              "+e._s(e.COMMAND_LIST.length)+"\n            ")]):e._e()],1),a("q-space")]:e._e(),a("q-input",{class:{"full-width":e.$q.screen.lt.sm},attrs:{placeholder:"Filter...",dark:"",clearable:"",square:"",outlined:"",dense:""},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{push:"",round:"",dense:"",icon:"close"},on:{click:function(t){return e.$emit("close")}}})],2)],1),a("q-page-container",[a("q-page",{class:e.$q.dark.isActive?"bg-black":"bg-white",attrs:{padding:""}},[0==e.searchResults.length?a("q-banner",{scopedSlots:e._u([{key:"avatar",fn:function(){return[a("q-icon",{attrs:{name:"info"}})]},proxy:!0}],null,!1,1899737995)},[e._v("\n          No matching commands\n        ")]):a("q-virtual-scroll",{attrs:{items:e.searchResults,separator:""},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.item;return[a("q-item",{key:s.command,attrs:{clickable:""},on:{click:function(t){return e.selectCommand(s)}}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[e._v(e._s(s.command))]),a("q-item-label",{attrs:{lines:"2",caption:""}},[e._v(e._s(s.desc))])],1),s.type?a("q-item-section",{attrs:{side:""}},[a("q-item-label",{attrs:{lines:"1"}},[a("q-chip",{attrs:{dark:"",dense:"",square:"",color:"grey"}},[e._v("\n                    "+e._s(s.type)+"\n                  ")])],1),s.range?a("q-item-label",{attrs:{lines:"2"}},[a("q-chip",{attrs:{dark:"",dense:"",square:"",color:"primary"}},[e._v("\n                    "+e._s(e.getRange(s.range))+"\n                  ")])],1):e._e()],1):e._e()],1)]}}])})],1)],1)],1)],1)},nt=[],rt=(a("ddb0"),{emits:["close","select"],setup(e,{emit:t}){const a=Object(H["ref"])(""),s=Object(H["computed"])((()=>Object(z["d"])(We["a"],a.value||""))),n=([e,t])=>t?`[ ${e}, ${t} ]`:`[ ${e} ]`,r=({command:e})=>t("select",e);return{COMMAND_LIST:We["a"],keyword:a,searchResults:s,getRange:n,selectCommand:r}}}),lt=rt,ot=a("2c91"),it=Object(v["a"])(lt,st,nt,!1,null,null,null),ct=it.exports;R()(it,"components",{QDialog:J["a"],QLayout:K["a"],QHeader:X["a"],QToolbar:ee["a"],QToolbarTitle:te["a"],QChip:ae["a"],QSpace:ot["a"],QInput:ie["a"],QBtn:se["a"],QPageContainer:ne["a"],QPage:re["a"],QBanner:De["a"],QIcon:qe["a"],QVirtualScroll:Q["a"],QItem:L["a"],QItemSection:S["a"],QItemLabel:M["a"]});const{useGetters:dt}=Object(q["a"])("db");var ut={emits:["input"],props:{value:{required:!0}},components:{CommandListModal:ct},setup(e,{emit:t}){const a=Object(H["inject"])("sendCommand"),{devDevice:s}=dt(["devDevice"]),n=Object(H["ref"])(!1),r=Object(H["computed"])({get:()=>e.value,set:e=>t("input",e)}),l=e=>{r.value=e,n.value=!1};return{COMMAND_LIST:We["a"],modalOpen:n,payload:r,devDevice:s,writeCommand:l,sendCommand:a}}},mt=ut,pt=Object(v["a"])(mt,tt,at,!1,null,null,null),bt=pt.exports;R()(pt,"components",{QBar:Se["a"],QToolbarTitle:te["a"],QBtn:se["a"],QTooltip:Me["a"],QInput:ie["a"],QIcon:qe["a"]});var ft=a("9482"),vt=function(){const e=Object(H["ref"])(!1),t=()=>e.value=!1,a=()=>e.value=!0;return Object(H["onMounted"])((()=>{e.value=!navigator.onLine,window.addEventListener("online",t),window.addEventListener("offline",a)})),Object(H["onBeforeUnmount"])((()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)})),{offline:e}},ht=a("0967");const{useState:gt,useMutations:jt}=Object(q["a"])("common");var xt={components:{ReportReader:Ie,DeviceManagement:Ge,ResponseLog:et,CommandManagement:bt},setup(e){const{darker:t}=gt(["darker"]),{[we["a"]]:a}=jt([we["a"]]),s=Object(H["reactive"])({drawer:{left:ht["b"].is.desktop,right:!1},app:ft["a"].app,splitter:150,payload:null}),{offline:n}=vt(),r=Object(H["computed"])((()=>"height: 120px")),l=Object(H["computed"])((()=>`height: calc(100vh - ${r.value} - 33px)`)),o=Object(H["computed"])((()=>`height: calc(${s.splitter}px - 32px)`)),c=()=>window.location.reload();return Object(H["watch"])((()=>$["a"].isActive),(e=>a(e))),Object(H["onMounted"])((()=>$["a"].set(t.value))),i()(i()({},Object(H["toRefs"])(s)),{},{offline:n,hCommandManagement:r,hResponseLog:l,hDeviceManagement:o,reload:c})}},yt=xt,qt=a("9404"),kt=a("8562"),_t=a("cb32"),wt=Object(v["a"])(yt,r,l,!1,null,null,null);t["default"]=wt.exports;R()(wt,"components",{QLayout:K["a"],QHeader:X["a"],QBar:Se["a"],QToolbarTitle:te["a"],QToolbar:ee["a"],QBtn:se["a"],QItemLabel:M["a"],QDrawer:qt["a"],QSplitter:kt["a"],QAvatar:_t["a"],QPageContainer:ne["a"]})}}]);